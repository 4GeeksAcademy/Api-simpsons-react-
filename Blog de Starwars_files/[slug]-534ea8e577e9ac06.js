(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73753],{14963:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[slug]",function(){return i(91579)}])},11376:function(e,t,i){"use strict";var n=i(50265),r=i(26363),o=i(39090),a=i(55823),l=i(43015),s=i(41662),d=i(82825),c=i(42072),p=i(17855),u=i(38270),x=i(39531),h=i(30793),m=i(38256),g=i.n(m),f=i(15412),b=i(93502),v=i(48983),y=i(59284),j=i(37623),w=i(24143),_=i(26189);let C=(0,r.memo)(e=>{var t,i,r;let{data:m,fullName:g,isTeacherVersion:C,containerStyle:S,width:k,height:I,customBadge:Z,isWrapped:T,index:R,withoutPopover:D,avatarUrl:z}=e,{user:O}=m,{t:P}=(0,f.Z)("dashboard"),E=g||"".concat(null==O?void 0:O.first_name," ").concat(null==O?void 0:O.last_name),A=(0,b.useRouter)(),{state:M}=(0,_.Z)(),{cohortSession:F}=M,[W]=(0,o.a)("(max-width: 768px)"),L={en:(null==m?void 0:m.created_at)&&(0,y.default)(new Date(null==m?void 0:m.created_at),"MMMM dd, yyyy"),es:(null==m?void 0:m.created_at)&&(0,y.default)(new Date(null==m?void 0:m.created_at),"dd 'de' MMMM, yyyy",{locale:v.Z})},{cohortSlug:q}=A.query,G={teacher:P("common:teacher"),assistant:P("common:assistant"),student:P("common:student"),member:P("common:member")},U=(null==O?void 0:null===(t=O.profile)||void 0===t?void 0:t.avatar_url)||(null==O?void 0:null===(i=O.github)||void 0===i?void 0:i.avatar_url)||z;return D?(0,n.jsx)(s.U,{as:"div","aria-expanded":!1,justifyContent:"center",alignItems:"center",style:S,children:(0,n.jsx)(d.q,{id:E,width:k,height:I,style:{userSelect:"none"},onClick:()=>{var e;C&&(null==O?void 0:O.id)&&(null==F?void 0:null===(e=F.academy)||void 0===e?void 0:e.id)&&A.push("/cohort/".concat(q,"/student/").concat(null==O?void 0:O.id,"?academy=").concat(F.academy.id))},cursor:C?"pointer":"default",title:E,src:U,marginLeft:T?"-10px":"0px",zIndex:R,children:Z&&Z})}):(0,n.jsxs)(a.J,{trigger:"hover",placement:W?"auto":"left-end",children:[(0,n.jsx)(l.x,{children:(0,n.jsx)(s.U,{as:"div","aria-expanded":!1,justifyContent:"center",alignItems:"center",style:S,children:(0,n.jsx)(d.q,{id:E,width:k,height:I,style:{userSelect:"none"},onClick:()=>{var e;C&&(null==O?void 0:O.id)&&(null==F?void 0:null===(e=F.academy)||void 0===e?void 0:e.id)&&A.push("/cohort/".concat(q,"/student/").concat(null==O?void 0:O.id,"?academy=").concat(F.academy.id))},cursor:C?"pointer":"default",title:E,src:U,marginLeft:T?"-10px":"0px",zIndex:R,alt:"".concat(E," - image"),children:Z&&Z})})}),(0,n.jsxs)(c.y,{display:{base:"none",md:"block"},minWidth:{base:"none",md:(null==m?void 0:m.role)?"320px":""},width:(null==m?void 0:m.role)?"100%":"auto",pr:!(null==m?void 0:m.role)&&"20px",children:[(null==m?void 0:m.role)&&(0,n.jsx)(p.Y,{children:(0,n.jsx)(j.Z,{size:"15px",fontWeight:"semibold",textTransform:"uppercase",py:"4px",px:"8px",dangerouslySetInnerHTML:{__html:"".concat(G[null==m?void 0:null===(r=m.role)||void 0===r?void 0:r.toLowerCase()]||"member")}})}),(0,n.jsx)(u.Q,{}),(0,n.jsxs)(x.b,{className:"popover-bg-color",display:"flex",flexDirection:"row",gridGap:"15px",my:"8px",children:[(0,n.jsx)(d.q,{id:E,width:(null==m?void 0:m.role)?"95px":"38px",height:(null==m?void 0:m.role)?"95px":"38px",style:{userSelect:"none"},src:U}),(0,n.jsxs)(h.xu,{display:"flex",flexDirection:"column",justifyContent:"center",gridGap:"10px",height:"auto",children:[(0,n.jsx)(j.Z,{size:"15px",children:E}),(null==m?void 0:m.role)&&(0,n.jsx)(w.Z,{size:"sm",fontWeight:"400",children:P("dashboard:member-since",{role:G[m.role.toLowerCase()]||"member",date:L[null==A?void 0:A.locale]})})]})]})]})]},E)});C.propTypes={data:g().objectOf(g().oneOfType([g().any])).isRequired,fullName:g().string,containerStyle:g().objectOf(g().oneOfType([g().any])),width:g().string,height:g().string,customBadge:g().node,isWrapped:g().bool,index:g().number,withoutPopover:g().bool,avatarUrl:g().string,isTeacherVersion:g().bool},C.defaultProps={fullName:"",containerStyle:{},width:"39px",height:"39px",customBadge:null,isWrapped:!1,index:0,withoutPopover:!1,avatarUrl:"",isTeacherVersion:!1},t.Z=C},12457:function(e,t,i){"use strict";var n=i(50265),r=i(15412),o=i(42166),a=i(29992),l=i(87799),s=i(30793),d=i(3597),c=i(49e3),p=i(11055),u=i(83268),x=i(8573),h=i(4775),m=i(29059),g=i(91810),f=i(91176),b=i(26363),v=i(93502),y=i(58653),j=i(69574),w=i(12509),_=i(84666),C=i(5594),S=i(87488),k=i(9269);t.Z=function(e){let{...t}=e,{t:i}=(0,r.Z)("profile"),{user:I,isAuthenticatedWithRigobot:Z,conntectToRigobot:T}=(0,_.Z)(),{createToast:R}=(0,k.Z)({toastId:"github-account-removed-error"}),D=(0,v.useRouter)(),[z,O]=(0,b.useState)(!1),{borderColor:P,backgroundColor:E,modal:A}=(0,S.Z)(),M=(null==I?void 0:I.github)&&""!==I.github.username,F=(null==I?void 0:I.google)&&""!==I.email;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.K,{spacing:4,justifyContent:"space-between",...t,children:[(0,n.jsxs)(a.B,{children:[(0,n.jsx)(l.Ui,{background:E,border:"1px solid",borderRadius:"3px",borderColor:"gray.default",height:"3.125rem",children:(0,n.jsx)(C.Z,{icon:"github",width:"24px",height:"24px"})}),(0,n.jsx)(s.xu,{w:"100%",h:"3.125rem",border:"1px solid",borderRightRadius:"3px",display:"flex",borderColor:"gray.default",alignItems:"center",children:M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.x,{margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",cursor:"default",children:I.github.username.replace(/(:?https?:\/\/)?(?:www\.)?github.com\//gm,"")}),(0,n.jsxs)(d.x,{margin:{base:"0 14px 0 auto",sm:"0 24px 0 auto"},textAlign:"start",color:"blue.default",cursor:"pointer",display:"flex",alignItems:"center",gridGap:"6px",textTransform:"uppercase",fontSize:"14px",onClick:()=>{O(!0)},children:[(0,n.jsx)(C.Z,{icon:"close",width:"10px",height:"10px"}),i("remove")]})]}):(0,n.jsx)(d.x,{margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",color:"blue.default",cursor:"pointer",onClick:e=>{e.preventDefault();let t=(0,y.qn)("accessToken");window.location.href="".concat(j.k1,"/v1/auth/github/").concat(t,"?url=").concat(window.location.href)},children:i("connect-github")})})]}),(0,n.jsxs)(a.B,{children:[(0,n.jsx)(l.Ui,{background:E,border:"1px solid",borderRadius:"3px",borderColor:"gray.default",height:"3.125rem",children:(0,n.jsx)(C.Z,{icon:"google",width:"24px",height:"24px"})}),(0,n.jsx)(s.xu,{w:"100%",h:"3.125rem",border:"1px solid",borderRightRadius:"3px",display:"flex",borderColor:"gray.default",alignItems:"center",children:F?(0,n.jsx)(d.x,{margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",cursor:"default",children:I.email}):(0,n.jsx)(d.x,{margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",color:"blue.default",cursor:"pointer",onClick:e=>{e.preventDefault(),y.FJ&&(window.location.href="".concat(j.k1,"/v1/auth/google?url=").concat(window.location.href,"&scopes=userinfo.profile,userinfo.email"))},children:i("connect-google")})})]}),(0,n.jsxs)(a.B,{children:[(0,n.jsx)(l.Ui,{background:E,border:"1px solid",borderRadius:"3px",borderColor:"gray.default",height:"3.125rem",children:(0,n.jsx)(C.Z,{icon:"rigobot-logo",width:"24px",height:"24px"})}),(0,n.jsx)(s.xu,{w:"100%",h:"3.125rem",border:"1px solid",borderRightRadius:"3px",display:"flex",borderColor:"gray.default",alignItems:"center",children:Z?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.x,{margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",cursor:"default",children:i("connected-with-rigobot")})}):(0,n.jsx)(c.z,{variant:"link",fontSize:"16px",_hover:{textDecoration:"none"},margin:{base:"0 14px 0 14px",sm:"0 0 0 24px"},textAlign:"start",color:"blue.default",cursor:"pointer",onClick:e=>{e.preventDefault(),T()},children:i("connect-rigobot")})})]})]}),(0,n.jsxs)(p.u_,{isOpen:z,size:"xl",margin:"0 10px",onClose:()=>O(!1),children:[(0,n.jsx)(u.Z,{}),(0,n.jsxs)(x.h,{background:A.background,children:[(0,n.jsx)(h.x,{borderBottom:"1px solid",fontSize:"15px",textTransform:"uppercase",borderColor:P,textAlign:"center",children:i("remove-github-modal.title")}),(0,n.jsx)(m.o,{}),(0,n.jsxs)(g.f,{padding:{base:"26px 18px",md:"42px 36px"},children:[(0,n.jsx)(f.X,{as:"p",size:"xsm",fontWeight:"700",letterSpacing:"0.05em",padding:{base:"0 1rem 26px 1rem",md:"0 4rem 52px 4rem"},textAlign:"center",children:i("remove-github-modal.description")}),(0,n.jsxs)(s.xu,{display:"flex",flexDirection:{base:"column",sm:"row"},gridGap:"12px",justifyContent:"space-around",children:[(0,n.jsx)(c.z,{variant:"outline",onClick:()=>O(!1),textTransform:"uppercase",fontSize:"13px",children:i("common:close")}),(0,n.jsx)(c.z,{variant:"default",onClick:()=>{w.Z.auth().removeGithub().then(()=>{O(!1),setTimeout(()=>{D.reload()},1e3),R({position:"top",title:i("alert-message:any-removed",{any:"GitHub"}),description:i("alert-message:github-account-removed"),status:"success",duration:5e3,isClosable:!0})}).catch(()=>{R({position:"top",title:i("alert-message:something-went-wrong"),description:i("alert-message:error-removing-github"),status:"error",duration:5e3,isClosable:!0})})},textTransform:"uppercase",fontSize:"13px",children:i("common:confirm")})]})]})]})]})]})}},34366:function(e,t,i){"use strict";var n=i(50265),r=i(30793),o=i(38256),a=i.n(o);function GridContainer(e){let{children:t,gridTemplateColumns:i,childrenStyle:o,gridGap:a,gridColumn:l,withContainer:s,maxWidth:d,...c}=e;return(0,n.jsx)(r.xu,{display:{base:"block",md:"grid"},maxWidth:d||"1440px",margin:c.margin||"0 auto",padding:c.padding||{base:"0 15px",md:"0"},gridTemplateColumns:i||"repeat(10, 1fr)",gridGap:a,...c,children:s?(0,n.jsx)(r.xu,{as:"div",gridColumn:l||"2 / span 8",...o,children:t}):t})}GridContainer.propTypes={children:a().node,gridTemplateColumns:a().oneOfType([a().object,a().any]),childrenStyle:a().oneOfType([a().object,a().any]),gridColumn:a().oneOfType([a().string,a().object]),gridGap:a().oneOfType([a().string,a().object]),withContainer:a().bool,maxWidth:a().string},GridContainer.defaultProps={children:null,gridTemplateColumns:null,childrenStyle:null,gridColumn:"",gridGap:"24px",withContainer:!1,maxWidth:""},t.Z=GridContainer},51466:function(e,t,i){"use strict";var n=i(50265),r=i(30793),o=i(31518),a=i.n(o),l=i(38256),s=i.n(l);function Image(e){let{src:t,alt:i,objectFit:o,layout:l,quality:s,priority:d,classNameImg:c,styleImg:p,...u}=e;return(0,n.jsx)(r.xu,{position:"relative",...u,children:(0,n.jsx)(a(),{className:c,quality:s,src:t,alt:i,width:u.width,height:u.height,style:{...p,objectFit:o,fill:l}})})}Image.propTypes={src:s().oneOfType([s().string,s().object]),alt:s().string.isRequired,quality:s().number,layout:s().string,priority:s().bool,objectFit:s().string,classNameImg:s().string,styleImg:s().objectOf(s().oneOfType([s().any]))},Image.defaultProps={src:"/static/images/code1.png",quality:100,layout:"fill",priority:!1,objectFit:"cover",classNameImg:"",styleImg:{}},t.Z=Image},84237:function(e,t,i){"use strict";var n=i(50265),r=i(26363),o=i(49e3),a=i(15412),l=i(38256),s=i.n(l),d=i(93502),c=i(18621),p=i(9269),u=i(22407),x=i(58653);function SubsriptionButton(e){var t,i,l,s,h;let{subscription:m,setSubscriptionProps:g,onOpenCancelSubscription:f,children:b,allSubscriptions:v,...y}=e,{t:j}=(0,a.Z)("profile"),{createToast:w}=(0,p.Z)({toastId:"subscription-button"}),_=null==m?void 0:m.status,[C,S]=(0,r.useState)(!1),k=(0,d.useRouter)(),I=null==m?void 0:null===(i=m.plans)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.slug,Z=(null==m?void 0:m.type)==="plan_financing"&&(null==m?void 0:m.valid_until)<new Date().toISOString(),T=null==v?void 0:v.some(e=>e.plans.some(e=>{var t;return e.slug===(null==m?void 0:null===(t=m.planOffer)||void 0===t?void 0:t.slug)})),R="FREE_TRIAL"===_,D="ACTIVE"===_,z=(null==m?void 0:null===(l=m.status)||void 0===l?void 0:l.toLowerCase())==="fully_paid",O="ERROR"===_,P="CANCELLED"===_,E="EXPIRED"===_,A="PAYMENT_ISSUE"===_,{getPlanOffer:M,reactivateSubscription:F}=(0,c.Z)(),handlePlanOffer=async()=>{try{S(!0);let e=await M(I);k.push("/checkout?plan=".concat(e.suggested_plan.slug))}catch(e){w({position:"top",title:j("alert-message:error-getting-offer"),status:"error",duration:5e3,isClosable:!0})}finally{S(!1)}},handleReactivatePlan=async()=>{S(!0);try{await F(m)}catch(e){console.error("Error reactivating subscription:",e)}finally{S(!1)}},W=T&&(R||z)||T&&D?{text:"",style:{display:"none"}}:R||(null==m?void 0:m.type)!=="plan_financing"&&(D||z)&&(null==m?void 0:null===(s=m.planOffer)||void 0===s?void 0:s.slug)?{text:j("subscription.upgrade"),style:{variant:"outline",color:"blue.default",borderColor:"currentColor",fontWeight:700}}:(null==m?void 0:m.type)!=="plan_financing"&&(D||z)?{text:j("subscription.cancel"),style:{variant:"link"}}:P?{text:j("subscription.reactivate-subscription"),style:{variant:"default",color:"white",fontWeight:500}}:(A||O||E)&&!(null==m?void 0:null===(h=m.planOffer)||void 0===h?void 0:h.slug)?{text:j("subscription.contact-support"),isComponent:!0,component:(0,n.jsxs)(n.Fragment,{children:[A&&(0,n.jsx)(o.z,{onClick:()=>{g(m),P?handleReactivatePlan():f()},marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none",children:P?j("subscription.reactivate-subscription"):j("subscription.cancel")}),(0,n.jsx)(o.z,{onClick:()=>{if("/profile/[slug]"===k.pathname){(0,u._1)({dataLayer:{event:"chat_with_support",plan:I,agent:(0,x.S7)()}});return}k.push("/profile/subscriptions")},marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none",children:"/profile/[slug]"===k.pathname?j("subscription.contact-support"):j("subscription.manage-subscription")})]})}:{text:"",style:{display:"none"}};return(0,n.jsxs)(n.Fragment,{children:[!z&&W.isComponent&&(0,n.jsx)(n.Fragment,{children:null==W?void 0:W.component}),!z&&!W.isComponent&&(0,n.jsx)(o.z,{isLoading:C,onClick:()=>{var e,t;g(m),Z&&handlePlanOffer(),(["FREE_TRIAL","PAYMENT_ISSUE"].includes(_)||["ACTIVE","FULLY_PAID"].includes(_)&&(null==m?void 0:null===(e=m.planOffer)||void 0===e?void 0:e.slug))&&handlePlanOffer(),!["ACTIVE","FULLY_PAID"].includes(_)||(null==m?void 0:m.type)==="plan_financing"||(null==m?void 0:null===(t=m.planOffer)||void 0===t?void 0:t.slug)||f(),["CANCELLED"].includes(_)&&handleReactivatePlan()},color:"blue.default",margin:"auto 0 0 0",...W.style,...y,children:b||W.text})]})}SubsriptionButton.propTypes={subscription:s().objectOf(s().oneOfType([s().any])),setSubscriptionProps:s().func,onOpenCancelSubscription:s().func,restStyles:s().objectOf(s().oneOfType([s().any])),children:s().node,allSubscriptions:s().arrayOf(s().objectOf([s().any]))},SubsriptionButton.defaultProps={subscription:{},setSubscriptionProps:()=>{},onOpenCancelSubscription:()=>{},restStyles:{},children:null,allSubscriptions:[]},t.Z=SubsriptionButton},91579:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ew}});var n=i(50265),r=i(24955),o=i(37830),a=i(75601),l=i(29180),s=i(99096),d=i(15412),c=i(26363),p=i(93502),u=i(37623),x=i(84666),h=i(11475),m=i(39733),g=i(12509),f=i(58653),b=i(34366),v=i(30793),y=i(2506),j=i(38256),w=i.n(j),_=i(3209),C=i.n(_),S=i(24143),k=i(87488),I=i(18621),Z=i(59284),T=i(4904),R=i(48983),D=i(69574),handlers=function(){let{t:e,lang:t}=(0,d.Z)("profile"),{reverseFontColor:i,fontColor:n,lightColor:r}=(0,k.Z)(),formatDate=e=>{if(!e)return"N/A";let i=new Date(e);return(0,Z.default)(i,"dd MMM, yyyy",{locale:"en"===t||"us"===t?T.Z:R.Z})};return{statusStyles:{free_trial:{color:n,border:"1px solid",borderColor:r},fully_paid:{color:"green.400",background:"green.light"},active:{color:"green.400",background:"green.light"},expired:{color:n,background:"transparent",border:"1px solid"},error:{color:n,background:"transparent",border:"1px solid"},payment_issue:{color:"danger",background:"red.light"},cancelled:{color:i,background:"gray.default"},completed:{color:"blue.default",border:"1px solid",borderColor:"blue.default"}},statusLabel:i=>{var n;let r=null==i?void 0:null===(n=i.status)||void 0===n?void 0:n.toLowerCase(),o=new Date,a="cancelled"===r&&i&&(i.valid_until&&new Date(i.valid_until)>o||i.next_payment_at&&new Date(i.next_payment_at)>o),l={free_trial:e("subscription.status.free_trial"),fully_paid:e("subscription.status.fully_paid"),active:e("subscription.status.active"),expired:e("subscription.status.expired"),payment_issue:e("subscription.status.payment_issue"),cancelled:a?e("subscription.status.is_cancelled_but_valid",{date:(0,Z.default)(new Date(i.valid_until||i.next_payment_at),"dd MMM yyyy",{locale:"es"===t?R.Z:T.Z})}):e("subscription.status.cancelled"),completed:e("subscription.status.completed"),error:e("subscription.status.error")};return l[r]||"unknown"},formatDate,getSubscriptionDetails:t=>{var i,n,r,o;let a=null==t?void 0:null===(i=t.status)||void 0===i?void 0:i.toLowerCase(),l=(null==t?void 0:t.type)==="plan_financing",s=null==t?void 0:null===(n=t.invoices)||void 0===n?void 0:n.filter(e=>"FULFILLED"===e.status).length,d=s===(null==t?void 0:t.how_many_installments),c=formatDate(null==t?void 0:t.next_payment_at),p=formatDate((null==t?void 0:t.plan_expires_at)||(null==t?void 0:t.next_payment_at)),u=formatDate(null==t?void 0:t.created_at),x=D.dB[null==t?void 0:null===(r=t.currency)||void 0===r?void 0:r.code]||"$",h=null==t?void 0:null===(o=t.invoices[0])||void 0===o?void 0:o.amount,m=null==t?void 0:t.monthly_price,g=(null==t?void 0:t.how_many_installments)*m,f=null==t?void 0:t.pay_every_unit,b=null==t?void 0:t.status_message,paymentText=(t,i)=>e("subscription.next-payment-with-price",{amount:t,date:i,currencySymbol:x}),renewalDateText=t=>e("subscription.renewal-date",{date:t}),expirationDateText=t=>e("subscription.expiration-date",{date:t}),expiredOnText=t=>e("subscription.expired-on",{date:t}),activeSinceText=t=>e("subscription.active-since",{date:t}),totallyPaidText=t=>e("subscription.totally-paid",{amount:t.toFixed(2),currencySymbol:x}),totalPaidText=(t,i)=>e("subscription.total-paid",{paidAmount:t,pendingAmount:i,currencySymbol:x}),paymentInfoText=(t,i)=>!!t&&e("subscription.payment",{payment:"".concat(x).concat(t,"/").concat(e("signup:payment_unit_short.".concat(i.toLowerCase())))}),errorMessageText=t=>e("subscription.error-message",{error:t||"Something went wrong"}),noPaymentsLeft=()=>e("subscription.no-payment-left"),v={fully_paid:()=>l?{renewalDate:expirationDateText(p),paymentInfo:d?totallyPaidText(s*m):totalPaidText(s*m,g),nextPayment:d?noPaymentsLeft():paymentText(m,c)}:{renewalDate:renewalDateText(c),renewability:!!u&&activeSinceText(u),paymentInfo:0===h?e("subscription.payment",{payment:e("common:free")}):paymentInfoText(h,f)},active:()=>l?{renewalDate:expirationDateText(p),paymentInfo:d?totallyPaidText(s*m):totalPaidText(s*m,g),nextPayment:d?noPaymentsLeft():paymentText(m,c)}:{renewalDate:renewalDateText(c),renewability:!!u&&activeSinceText(u),paymentInfo:0===h?e("subscription.payment",{payment:e("common:free")}):paymentInfoText(h,f)},expired:()=>({renewalDate:expiredOnText(p),paymentInfo:l?totallyPaidText(s*m):paymentInfoText(h,f)}),error:()=>({errorMessage:errorMessageText(b),paymentInfo:h?paymentInfoText(h,f):"Error"}),payment_issue:()=>l?{renewalDate:expirationDateText(p),nextPayment:d?noPaymentsLeft():paymentText(m,c),paymentInfo:d?totallyPaidText(m):totalPaidText(s*m,g)}:{errorMessage:errorMessageText(b),paymentInfo:paymentInfoText(h,f)},cancelled:()=>l?{renewalDate:expirationDateText(p),nextPayment:d?noPaymentsLeft():paymentText(m,c),paymentInfo:d?totallyPaidText(m):totalPaidText(s*m,g)}:{paymentInfo:paymentInfoText(h,f)},free_trial:()=>({renewalDate:renewalDateText(c),renewability:!!u&&activeSinceText(u),paymentInfo:e("subscription.payment",{payment:e("common:free")})})};return v[a]?v[a]():{renewalDate:"",paymentInfo:"",nextPayment:"",errorMessage:"",renewability:""}}}},z=i(83691),O=i(59979),P=i(3597),E=i(5594),A=i(84237);function SubscriptionInfo(e){let{subscription:t}=e,{lang:i}=(0,d.Z)("profile"),{backgroundColor3:r,hexColor:o}=(0,k.Z)(),{blueDefault:a}=o,{getSubscriptionDetails:l}=handlers(),{renewalDate:s,renewability:c,paymentInfo:p,nextPayment:u,errorMessage:x}=l(t,i);return(0,n.jsxs)(O.k,{flexDirection:"column",gridGap:"10px",background:r,borderRadius:"4px",padding:"8px",children:[x&&(0,n.jsxs)(O.k,{gridGap:"4px",alignItems:"center",children:[(0,n.jsx)(E.Z,{width:"18px",height:"13px",color:a,minWidth:"18px"}),(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px",children:x})]}),u&&(0,n.jsxs)(O.k,{gridGap:"4px",alignItems:"center",children:[(0,n.jsx)(E.Z,{icon:"card",width:"18px",height:"13px",color:a,minWidth:"18px"}),(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px",children:u})]}),p&&(0,n.jsxs)(O.k,{gridGap:"4px",alignItems:"center",children:[(0,n.jsx)(E.Z,{icon:"card",width:"18px",height:"13px",color:a,minWidth:"18px"}),(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px",children:p})]}),s&&(0,n.jsxs)(O.k,{gridGap:"4px",alignItems:"center",children:[(0,n.jsx)(E.Z,{icon:"refresh_time",width:"16px",height:"16px",color:a,minWidth:"18px"}),(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px",children:s})]}),c&&(0,n.jsxs)(O.k,{gridGap:"4px",alignItems:"center",children:[(0,n.jsx)(E.Z,{icon:"renewal",width:"16px",height:"16px",color:a,minWidth:"18px"}),(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px",children:c})]})]})}function SubscriptionCard(e){var t,i,r;let{subscription:o,allSubscriptions:a,setSubscriptionProps:l,onOpenCancelSubscription:s}=e,{borderColor2:d}=(0,k.Z)(),{statusStyles:c,statusLabel:p}=handlers(),u=null==o?void 0:null===(t=o.status)||void 0===t?void 0:t.toLowerCase();return(0,n.jsxs)(O.k,{height:"fit-content",position:"relative",margin:"10px 0 0 0",flexDirection:"column",justifyContent:"space-between",alignItems:"center",border:"1px solid",borderColor:d,p:"14px 16px 14px 14px",borderRadius:"9px",children:[(0,n.jsx)(v.xu,{borderRadius:"50%",bg:"green.400",padding:"12px",position:"absolute",top:-7,left:4,children:(0,n.jsx)(E.Z,{icon:"data-science",width:"30px",height:"30px"})}),(0,n.jsx)(v.xu,{padding:"0 0 14px 0",width:"100%",children:(0,n.jsx)(P.x,{fontSize:"12px",fontWeight:"700",padding:"4px 10px",borderRadius:"18px",width:"fit-content",margin:"0 0 0 auto",...c[u]||"",children:p(o)||"unknown"})}),(0,n.jsxs)(O.k,{flexDirection:"column",gridGap:"8px",height:"100%",width:"100%",children:[(0,n.jsx)(O.k,{flexDirection:"column",gridGap:"10px",children:(0,n.jsx)(P.x,{fontSize:"16px",fontWeight:"700",children:(null==o?void 0:null===(i=o.plans[0])||void 0===i?void 0:i.name)||(0,f.fp)((0,f.A$)(null==o?void 0:null===(r=o.plans[0])||void 0===r?void 0:r.slug))})}),(0,n.jsx)(SubscriptionInfo,{subscription:o}),(0,n.jsx)(A.Z,{subscription:o,allSubscriptions:a,setSubscriptionProps:l,onOpenCancelSubscription:s})]})]},null==o?void 0:o.id)}SubscriptionInfo.propTypes={subscription:w().shape({id:w().oneOfType([w().string,w().number]),status:w().string,status_message:w().string,user:w().shape({first_name:w().string,last_name:w().string,email:w().string}),academy:w().shape({id:w().number,name:w().string,slug:w().string}),how_many_installments:w().number,invoices:w().arrayOf(w().shape({})),monthly_price:w().number,next_payment_at:w().string,planOffer:w().shape({status:w().string}),plan_expires_at:w().string,plans:w().arrayOf(w().shape({name:w().string,slug:w().string})),selected_cohort_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),cohorts:w().arrayOf(w().shape({}))}),selected_event_type_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),event_types:w().arrayOf(w().shape({})),academy_services:w().arrayOf(w().shape({}))}),selected_mentorship_service_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),mentorship_services:w().arrayOf(w().shape({})),academy_services:w().arrayOf(w().shape({}))}),type:w().string,valid_until:w().string}).isRequired},SubscriptionCard.propTypes={subscription:w().shape({id:w().oneOfType([w().string,w().number]),status:w().string,status_message:w().string,user:w().shape({first_name:w().string,last_name:w().string,email:w().string}),academy:w().shape({id:w().number,name:w().string,slug:w().string}),how_many_installments:w().number,invoices:w().arrayOf(w().shape({})),monthly_price:w().number,next_payment_at:w().string,planOffer:w().shape({status:w().string}),plan_expires_at:w().string,plans:w().arrayOf(w().shape({name:w().string,slug:w().string})),selected_cohort_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),cohorts:w().arrayOf(w().shape({}))}),selected_event_type_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),event_types:w().arrayOf(w().shape({})),academy_services:w().arrayOf(w().shape({}))}),selected_mentorship_service_set:w().shape({id:w().number,slug:w().string,academy:w().shape({}),mentorship_services:w().arrayOf(w().shape({})),academy_services:w().arrayOf(w().shape({}))}),type:w().string,valid_until:w().string}).isRequired,allSubscriptions:w().arrayOf(w().shape({})).isRequired,setSubscriptionProps:w().func.isRequired,onOpenCancelSubscription:w().func.isRequired};var M=i(49e3);function ConsumableCard(e){let{title:t,icon:i,totalAvailable:r,onClick:o}=e,{featuredLight:a,hexColor:l}=(0,k.Z)(),{t:s}=(0,d.Z)("profile");return(0,n.jsxs)(O.k,{direction:"column",borderRadius:"17px",padding:"12px 16px",background:a,width:{base:"100%",md:"265px"},gap:"10px",justifyContent:"space-between",children:[(0,n.jsx)(P.x,{size:"sm",mb:"10px",fontWeight:"700",children:t}),(0,n.jsxs)(O.k,{justifyContent:"space-between",alignItems:"center",children:[(0,n.jsxs)(O.k,{gap:"10px",alignItems:"center",minHeight:"51px",children:[i,r>=0&&r<100?(0,n.jsx)(P.x,{color:l.fontColor3,fontSize:"34px",fontWeight:"700",children:r}):(0,n.jsx)(E.Z,{icon:"infinite",color:l.fontColor3,width:"34px",height:"34px"})]}),(0,n.jsx)(M.z,{variant:"link",onClick:o,children:s("subscription.see-details")})]})]})}ConsumableCard.propTypes={title:w().string.isRequired,icon:w().string.isRequired,totalAvailable:w().number.isRequired,onClick:w().func.isRequired};var F=i(11055),W=i(83268),L=i(8573),q=i(29059),G=i(4775),U=i(91810),N=i(59086),B=i(66083);function UnitsDisplay(e){var t;let{item:i,hexColor:r}=e,o=null!==(t=null==i?void 0:i.unit)&&void 0!==t?t:null==i?void 0:i.how_many;return -1===o||(null==i?void 0:i.nonSaasAcademy)?(0,n.jsx)(E.Z,{icon:"infinite",color:r.fontColor3,width:"20px",height:"20px"}):"number"==typeof o&&o>=0?o:null}function ConsumableMoreInfoModal(e){var t,i,r,o;let{serviceModal:a,services:l,closeMentorshipsModal:s,existsNoAvailableAsSaas:d,t:c}=e,{hexColor:p}=(0,k.Z)(),u={mentorships:{icon:(0,n.jsx)(B.f,{profiles:D.FR,size:"29px",ms:"12px"}),title:c("subscription.your-mentoring-available")},workshops:{icon:(0,n.jsx)(E.Z,{icon:"live-event-opaque",width:"40px",height:"40px"}),title:c("subscription.your-workshop-available")},voids:{icon:(0,n.jsx)(E.Z,{icon:"rigobot-avatar-tiny",width:"32px",height:"32px"}),title:c("subscription.rigo-available")}};return(0,n.jsxs)(F.u_,{isOpen:null!==a,onClose:s,isCentered:!0,children:[(0,n.jsx)(W.Z,{}),(0,n.jsxs)(L.h,{borderRadius:"11px",overflow:"hidden",height:"264px",children:[(0,n.jsx)(q.o,{size:"14px",_hover:"none",_active:"none"}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(G.x,{fontWeight:"400",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px",px:"8px",children:[null===(t=u[a])||void 0===t?void 0:t.icon,null===(i=u[a])||void 0===i?void 0:i.title]}),(0,n.jsx)(U.f,{p:"8px",style:{maxHeight:"350px",overflowY:"auto",background:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:(null===(r=l[a])||void 0===r?void 0:r.length)===0?"center":"flex-start"},children:(null===(o=l[a])||void 0===o?void 0:o.length)===0?(0,n.jsx)(v.xu,{w:"100%",h:"206px",borderRadius:"4px",display:"flex",backgroundColor:"#F9F9F9",flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,n.jsx)(P.x,{color:p.fontColor2,fontSize:"16px",mb:"16px",textAlign:"center",children:c("subscription.no-consumables-available",{service:c("consumable-services.".concat(a)).toLowerCase()})})}):(0,n.jsxs)(v.xu,{w:"100%",px:"8px",children:[l[a].map(e=>(0,n.jsxs)(v.xu,{display:"flex",alignItems:"center",boxShadow:"3px 3px 7px rgba(0,0,0,0.04)",borderRadius:"8px",p:"8px",mb:"12px",bg:"white",children:[e.logo_url&&(0,n.jsx)(N.E,{src:e.logo_url,width:"32px",height:"32px",alt:"icon",style:{marginRight:"16px"}}),(0,n.jsxs)(v.xu,{children:[(0,n.jsxs)(P.x,{display:"flex",alignItems:"center",fontWeight:"400",fontSize:"16px",mb:"8px",children:[(0,n.jsx)(P.x,{as:"span",style:{marginRight:"8px"},children:(0,n.jsx)(UnitsDisplay,{item:e,hexColor:p})}),(null==e?void 0:e.name)||(0,f.A$)(null==e?void 0:e.slug)]}),(0,n.jsx)(P.x,{color:p.fontColor3,fontSize:"14px",children:null==e?void 0:e.description})]})]},e.slug)),d&&"mentorships"===a&&(0,n.jsx)(P.x,{color:p.fontColor2,fontSize:"12px",mb:"16px",textAlign:"center",children:c("subscription.bootcamp-mentorships")})]})})]})]})]})}UnitsDisplay.propTypes={item:w().shape({unit:w().number,how_many:w().number,nonSaasAcademy:w().bool}).isRequired,hexColor:w().shape({fontColor3:w().string.isRequired}).isRequired},ConsumableMoreInfoModal.propTypes={serviceModal:w().string.isRequired,closeMentorshipsModal:w().func.isRequired,t:w().func.isRequired,existsNoAvailableAsSaas:w().bool.isRequired,services:w().shape({mentorships:w().arrayOf(w().objectOf(w().any)),workshops:w().arrayOf(w().objectOf(w().any)),voids:w().arrayOf(w().objectOf(w().any))}).isRequired};let H=(0,c.lazy)(()=>Promise.resolve().then(i.bind(i,28849)));function Subscriptions(e){var t;let{cohorts:i}=e,{t:r}=(0,d.Z)("profile"),{state:o,isLoading:a,cancelSubscription:l}=(0,I.Z)(),{fontColor:s}=(0,k.Z)(),[p,u]=(0,c.useState)(!1),[x,h]=(0,c.useState)(null),[m,b]=(0,c.useState)({cohort_sets:[],event_type_sets:[],mentorship_service_sets:[],service_sets:[],voids:[]}),[j,w]=(0,c.useState)({mentorships:[],workshops:[],voids:[]}),[_,Z]=(0,c.useState)(!0),[T,R]=(0,c.useState)({}),O=null==o?void 0:o.subscriptions,{formatDate:P}=handlers(),onOpenCancelSubscription=()=>u(!0),getConsumables=async()=>{try{let e=i.filter(e=>{let{available_as_saas:t}=e;return!t}),t=[...new Set(e.map(e=>{let{academy:t}=e;return t.id}))],n={mentorships:[],workshops:[]},r=t.map(e=>g.Z.mentorship({academy:e},!0).getService()),o=await Promise.all(r),a=o.flatMap(e=>{let{data:t}=e;return t}).map(e=>({...e,nonSaasAcademy:!0})),l=await g.Z.payment().service().consumable();if(200===l.status){let{data:e}=l;b(e);let t=e.mentorship_service_sets.map(async e=>{let t=await g.Z.payment().getServiceSet(e.id);return t.data.mentorship_services.map(t=>({...t,unit:e.balance.unit}))}),i=e.event_type_sets.map(async e=>{let t=await g.Z.payment().getEventTypeSet(e.id);return t.data.event_types}),r=e.voids.map(async e=>{var t,i,n;let r=await g.Z.payment().getServiceInfo(e.slug),o=r.data[0];return{...o,name:(null===(t=o.features[0])||void 0===t?void 0:t.title)||o.service.title||"",description:(null===(i=o.features[0])||void 0===i?void 0:i.description)||"",one_line_desc:(null===(n=o.features[0])||void 0===n?void 0:n.one_line_desc)||""}}),o=await Promise.all(t),s=await Promise.all(i),d=await Promise.all(r);n.mentorships=[...o.flat(),...a],n.workshops=s.flat(),n.voids=d.flat()}w(n),Z(!1)}catch(e){Z(!1),console.log(e)}};(0,c.useEffect)(()=>{getConsumables()},[]);let A=(null==O?void 0:O.subscriptions)&&(null==O?void 0:O.plan_financings)&&[...null==O?void 0:O.subscriptions,...null==O?void 0:O.plan_financings].filter(e=>{var t,i;return(null==e?void 0:null===(i=e.plans)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.slug)!==void 0}),M=["fully_paid","active","payment_issue","expired","cancelled","error"],F=(null==A?void 0:A.length)>0?A.filter(e=>{var t,i,n;let r=(null==e?void 0:null===(t=e.status)||void 0===t?void 0:t.toLowerCase())==="free_trial",o=A.find(t=>{var i,n,r;return(null==t?void 0:null===(n=t.plans)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.slug)===(null==e?void 0:null===(r=e.planOffer)||void 0===r?void 0:r.slug)}),a=!(null==e?void 0:null===(i=e.planOffer)||void 0===i?void 0:i.slug)&&(null==e?void 0:null===(n=e.planOffer)||void 0===n?void 0:n.status)||o;return!r||!a}).reduce((e,t)=>{var i,n,r,o,a;let l=null==t?void 0:null===(n=t.plans)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.slug;return l&&(!e[l]||M.indexOf(null==t?void 0:null===(r=t.status)||void 0===r?void 0:r.toLowerCase())<M.indexOf(null===(a=e[l])||void 0===a?void 0:null===(o=a.status)||void 0===o?void 0:o.toLowerCase()))&&(e[l]=t),e},{}):[],W=Object.values(F),L=m.mentorship_service_sets.some(e=>-1===e.balance.unit)?-1:m.mentorship_service_sets.reduce((e,t)=>e+t.balance.unit,0),q=m.event_type_sets.some(e=>-1===e.balance.unit)?-1:m.event_type_sets.reduce((e,t)=>e+t.balance.unit,0),G=m.voids.some(e=>-1===e.balance.unit)?-1:m.voids.reduce((e,t)=>e+t.balance.unit,0),U=i.some(e=>!1===e.available_as_saas);return(0,n.jsxs)(n.Fragment,{children:[(null===f.xh||void 0===f.xh?void 0:null===(t=f.xh.pathname)||void 0===t?void 0:t.includes("subscriptions"))&&(0,n.jsx)(C(),{children:(0,n.jsx)("title",{children:r("my-subscriptions")})}),(0,n.jsx)(v.xu,{display:"flex",flexWrap:"wrap",gap:"24px",children:_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.aC,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}}),(0,n.jsx)(z.aC,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}}),(0,n.jsx)(z.aC,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ConsumableCard,{title:r("subscription.mentoring-available"),icon:(0,n.jsx)(B.f,{profiles:D.FR,size:"34px"}),totalAvailable:L,onClick:()=>h("mentorships")}),(0,n.jsx)(ConsumableCard,{title:r("subscription.workshop-available"),icon:(0,n.jsx)(E.Z,{icon:"live-event-opaque",width:"40px",height:"40px"}),totalAvailable:q,onClick:()=>h("workshops")}),(0,n.jsx)(ConsumableCard,{title:r("subscription.rigo-available"),icon:(0,n.jsx)(E.Z,{icon:"rigobot-avatar-tiny",width:"34px",height:"34px"}),totalAvailable:G,onClick:()=>h("voids")})]})}),(0,n.jsx)(ConsumableMoreInfoModal,{serviceModal:x,services:j,closeMentorshipsModal:()=>h(null),existsNoAvailableAsSaas:U,t:r}),(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"700",pb:"18px",children:r("my-subscriptions")}),(null==W?void 0:W.length)>0?(0,n.jsxs)(y.r,{gridTemplateColumns:{base:"repeat(auto-fill, minmax(15rem, 1fr))",md:"repeat(auto-fill, minmax(20rem, 1fr))",lg:"repeat(3, 1fr)"},gridGap:"3rem",children:[(null==W?void 0:W.length)>0&&W.map(e=>(0,n.jsx)(SubscriptionCard,{subscription:e,allSubscriptions:W,setSubscriptionProps:R,onOpenCancelSubscription:onOpenCancelSubscription},null==e?void 0:e.id)),(0,n.jsx)(c.Suspense,{fallback:(0,n.jsx)(z.aC,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}}),children:(0,n.jsx)(H,{isOpen:p,title:r("subscription.cancel-modal.title"),htmlDescription:r("subscription.cancel-modal.description",{nextPaymentDate:P(null==T?void 0:T.next_payment_at)}),closeText:r("subscription.cancel-modal.closeText"),handlerText:r("subscription.cancel-modal.handlerText"),headerStyles:{textAlign:"center"},descriptionStyle:{color:s,fontSize:"14px",textAlign:"center"},footerStyle:{flexDirection:"row-reverse"},closeButtonStyles:{variant:"outline",color:"blue.default",borderColor:"currentColor"},buttonHandlerStyles:{variant:"default"},actionHandler:()=>{l(null==T?void 0:T.id).finally(()=>{u(!1)})},onClose:()=>u(!1)})})]}):(0,n.jsx)(n.Fragment,{children:a?(0,n.jsx)(z.q4,{gridTemplateColumns:{base:"repeat(auto-fill, minmax(15rem, 1fr))",md:"repeat(auto-fill, minmax(20rem, 1fr))",lg:"repeat(3, 1fr)"},gridGap:"3rem",quantity:6,cardHeight:"316px"}):(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"400",pb:"18px",children:r("no-subscriptions")})})]})}Subscriptions.propTypes={cohorts:w().arrayOf(w().oneOfType([w().any]))},Subscriptions.defaultProps={cohorts:[]};var X=i(72125),V=i(18964),J=i(31351),Y=i(96180),$=i(53862);function CertificateItem(e){var t,i;let{certificate:r}=e,{t:o,lang:a}=(0,d.Z)("profile"),{borderColor2:l}=(0,k.Z)(),s=r.created_at,c={es:(0,J.Z)(new Date(s),new Date,{locale:R.Z}),en:(0,J.Z)(new Date(s),new Date)},p=(null==r?void 0:r.preview_url)&&(null===(i=r.preview_url)||void 0===i?void 0:null===(t=i.split("/"))||void 0===t?void 0:t.pop()),{socials:u,shareLink:x}=(0,$.Z)({info:p,type:"certificate",shareMessage:o("share-certificate.shareMessage",{profession:r.specialty.name})});return(0,n.jsxs)(v.xu,{display:"flex",flexDirection:{base:"column",md:"row"},justifyContent:"space-between",alignItems:"center",gridGap:"26px",border:"1px solid",borderColor:l,p:"23px 28px",borderRadius:"18px",children:[(0,n.jsxs)(v.xu,{display:"flex",gridGap:"26px",children:[(0,n.jsx)(v.xu,{padding:"13.5px 10.5px",height:"fit-content",backgroundColor:"blue.light",borderRadius:"35px",children:(0,n.jsx)(E.Z,{icon:"certificate",width:"24px",height:"24px",style:{marginBottom:"-8px"}})}),(0,n.jsxs)(v.xu,{display:"flex",flexDirection:"column",children:[(0,n.jsx)(S.Z,{size:"l",fontWeight:"400",children:c[a]}),(0,n.jsx)(S.Z,{size:"l",fontWeight:"700",children:r.specialty.name})]})]}),(0,n.jsxs)(v.xu,{display:"flex",flexDirection:"row",gridGap:"18px",children:[(0,n.jsx)(X.u,{placement:"top",isDisabled:null!==p,label:o("certificate-preview-not-available"),children:(0,n.jsx)(V.r,{href:x,variant:"buttonDefault",outline:!0,colorScheme:"blue.default",disabled:!p,textTransform:"uppercase",target:p?"_blank":"_self",rel:"noopener noreferrer",fontSize:"13px",children:o("view-certificate")})}),(0,n.jsx)(Y.Z,{withParty:!0,title:o("share-certificate.title"),shareText:o("share-certificate.shareText"),link:x,socials:u})]})]})}function Certificates(e){var t;let{certificates:i}=e,{t:r}=(0,d.Z)("profile");return(0,n.jsxs)(n.Fragment,{children:[(null===f.xh||void 0===f.xh?void 0:null===(t=f.xh.pathname)||void 0===t?void 0:t.includes("certificates"))&&(0,n.jsx)(C(),{children:(0,n.jsx)("title",{children:r("my-certificates")})}),(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"700",pb:"6px",children:r("my-certificates")}),Array.isArray(i)&&i.map(e=>(0,n.jsx)(CertificateItem,{certificate:e},"".concat(e.created_at," - ").concat(e.specialty.name))),(!Array.isArray(i)||0===i.length)&&(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"400",pb:"6px",children:r("no-certificates")})]})}CertificateItem.propTypes={certificate:w().shape({created_at:w().string.isRequired,preview_url:w().string,specialty:w().shape({name:w().string.isRequired}).isRequired}).isRequired},Certificates.propTypes={certificates:w().arrayOf(w().shape({created_at:w().string.isRequired,preview_url:w().string,specialty:w().shape({name:w().string.isRequired}).isRequired}))},Certificates.defaultProps={certificates:[]};var K=i(39090),Q=i(82825),ee=i(55823),et=i(43015),ei=i(42072),en=i(38270),er=i(39531),eo=i(90207),ea=i(58605),el=i(53711),es=i(42166),ed=i(31826),ec=i(83505),ep=i(76392),eu=i(38006),ex=i(89648),eh=i(12457),em=i(9269),eg=(0,c.memo)(function(){let{t:e}=(0,d.Z)("profile"),{user:t,updateProfile:i}=(0,x.Z)(),{createToast:r}=(0,em.Z)({toastId:"profile-update-form"}),[o,a]=(0,c.useState)(null),[l,s]=(0,c.useState)(null),{lightColor:p,disabledColor:u,disabledBackgroundColor:h}=(0,k.Z)();(0,c.useEffect)(()=>{let e={first_name:null==t?void 0:t.first_name,last_name:null==t?void 0:t.last_name,email:null==t?void 0:t.email,phone:null==t?void 0:t.phone};a(e),s(e)},[t]);let m=null!==o&&null!==l&&(0,f.wy)(o,l);return"object"==typeof o&&(0,n.jsx)(eu.J9,{enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,initialValues:o,onSubmit:(n,o)=>{o.setSubmitting(!0),g.Z.auth().updateProfile(n).then(n=>{let{data:o}=n;r({position:"top",title:e("profile:profile-updated"),status:"success",duration:9e3,isClosable:!0}),i({...t,first_name:o.first_name,last_name:o.last_name,email:o.email,phone:o.phone})}).catch(()=>{r({position:"top",title:e("profile:update-failed"),status:"error",duration:9e3,isClosable:!0})}).finally(()=>{o.setSubmitting(!1)})},validator:()=>({}),validationSchema:ex.Z.handleProfile,children:i=>{let{isSubmitting:r}=i;return(0,n.jsx)(eu.l0,{style:{width:"100%"},children:(0,n.jsxs)(es.K,{spacing:6,justifyContent:"space-between",children:[(0,n.jsxs)(v.xu,{display:"flex",gridGap:"24px",flexDirection:{base:"column",sm:"row"},children:[(0,n.jsx)(eu.gN,{name:"first_name",children:i=>{let{form:r}=i;return(0,n.jsxs)(ed.NI,{isInvalid:r.errors.first_name&&r.touched.first_name,children:[(0,n.jsx)(ec.l,{margin:"0px",color:"gray.default",fontSize:"sm",float:"left",htmlFor:"email",children:e("common:first-name")}),(0,n.jsx)(eo.I,{name:"first_name",color:p,onChange:e=>{a({...o,first_name:e.target.value}),r.handleChange(e)},defaultValue:(null==t?void 0:t.first_name)||"",height:"50px",borderColor:"gray.default",borderRadius:"3px"}),(0,n.jsx)(ep.J1,{children:r.errors.first_name})]})}}),(0,n.jsx)(eu.gN,{name:"last_name",children:i=>{let{form:r}=i;return(0,n.jsxs)(ed.NI,{isInvalid:r.errors.last_name&&r.touched.last_name,children:[(0,n.jsx)(ec.l,{margin:"0px",color:"gray.default",fontSize:"sm",float:"left",htmlFor:"last_name",children:e("common:last-name")}),(0,n.jsx)(eo.I,{name:"last_name",color:p,onChange:e=>{a({...o,last_name:e.target.value}),r.handleChange(e)},defaultValue:(null==t?void 0:t.last_name)||"",height:"50px",borderColor:"gray.default",borderRadius:"3px"}),(0,n.jsx)(ep.J1,{children:r.errors.last_name})]})}})]}),(0,n.jsx)(v.xu,{display:"flex",gridGap:"24px",flexDirection:{base:"column",sm:"row"},children:(0,n.jsx)(eu.gN,{name:"email",children:i=>{let{form:r}=i;return(0,n.jsxs)(ed.NI,{isInvalid:r.errors.email&&r.touched.email,children:[(0,n.jsx)(ec.l,{margin:"0px",color:"gray.default",fontSize:"sm",float:"left",htmlFor:"email",children:e("common:email")}),(0,n.jsx)(eo.I,{name:"email",onChange:e=>{a({...o,email:e.target.value}),r.handleChange(e)},defaultValue:(null==t?void 0:t.email)||"",isDisabled:!0,_disabled:{backgroundColor:h,cursor:"not-allowed",color:u,border:"0"},type:"email",placeholder:"email@example.co",height:"50px",borderColor:"gray.default",borderRadius:"3px"}),(0,n.jsx)(ep.J1,{children:r.errors.email})]})}})}),(0,n.jsx)(eh.Z,{}),(0,n.jsx)(M.z,{variant:"default",disabled:!m,fontSize:"13px",fontWeight:"700",letterSpacing:"0.05em",textTransform:"uppercase",width:"fit-content",padding:"0 24px",alignSelf:"end",isLoading:r,type:"submit",children:e("save-changes")})]})})}})});let createImage=e=>new Promise((t,i)=>{let n=new Image;n.addEventListener("load",()=>t(n)),n.addEventListener("error",e=>i(e)),n.setAttribute("crossOrigin","anonymous"),n.src=e});function getRadianAngle(e){return e*Math.PI/180}async function getCroppedImg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1},r=await createImage(e),o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return null;let l=getRadianAngle(i),{width:s,height:d}=function(e,t,i){let n=getRadianAngle(i);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}(r.width,r.height,i);o.width=s,o.height=d,a.fillStyle="red",a.fillRect(0,0,s,d),a.translate(s/2,d/2),a.rotate(l),a.scale(n.horizontal?-1:1,n.vertical?-1:1),a.translate(-r.width/2,-r.height/2),a.drawImage(r,0,0);let c=document.createElement("canvas"),p=c.getContext("2d");c.width=t.width,c.height=t.height,p.fillStyle="white",p.fillRect(0,0,t.width,t.height),p.drawImage(o,t.x,t.y,t.width,t.height,0,0,t.width,t.height);let u=c.toDataURL("image/png"),x=u.replace(/^data:image\/(png|jpeg|jpg);base64,/,""),h=function(e,t){t=t||"";let i=window.atob(e),n=[];for(let e=0,t=i.length;e<t;e+=1024){let t=i.slice(e,e+1024),r=Array(t.length);for(let e=0;e<t.length;e+=1)r[e]=t.charCodeAt(e);let o=new Uint8Array(r);n.push(o)}return new Blob(n,{type:t})}(x,"image/png");return{imgURI:u,blob:h}}var hooks_useUploadFileInChunks=()=>{let[e,t]=(0,c.useState)(!1),[i,n]=(0,c.useState)(!1),[r,o]=(0,c.useState)(!1),[a,l]=(0,c.useState)(null),getOperationMeta=async e=>{let t=await g.Z.media().operationMeta(e);return t.data},splitFileIntoChunks=(e,t)=>{let i=[],n=0;for(;n<e.size;){let r=Math.min(n+t,e.size),o=e.slice(n,r,e.type);i.push(o),n=r}return i},uploadChunk=async function(e,t,i,n,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;try{let a=new FormData;a.append("operation_type",i),a.append("filename",e.name),a.append("total_chunks",n),a.append("chunk",t),a.append("chunk_index",r);let l=(0,f.qn)("accessToken");if(!l&&!o)throw Error("Couldn't find the accessToken, make sure you are passing it");let s=await g.Z.media().uploadChunk(o?"academy/chunk":"me/chunk",a,o?{Academy:o}:{Authorization:"Token ".concat(l)});return s}catch(e){throw console.error("Error uploading chunk ".concat(r,":"),e),e}},endFileUpload=async function(e,t,i,n,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=await g.Z.media().endFileUpload(o?"academy/chunk/upload":"me/chunk/upload",{operation_type:e,total_chunks:t,filename:i,mime:n,meta:r});return a.data},uploadFileInChunks=async function(e,i,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t(!0),l(null);try{var s;let{chunk_size:l,max_chunks:d}=await getOperationMeta(i),c=splitFileIntoChunks(e,l);t(!1);let p=c.length;if(d&&p>d)throw Error("Too many pieces. Max allowed: ".concat(d));n(!0);let u=await Promise.all(c.map(async(t,n)=>uploadChunk(e,t,i,p,n,a)));n(!1);let x=u[u.length-1],{mime:h,name:m}=null!==(s=null==x?void 0:x.data)&&void 0!==s?s:{};o(!0);let g=await endFileUpload(i,p,m,h,r,a);return o(!1),g}catch(e){throw console.error("Error uploading file:",e),l(e),t(!1),n(!1),o(!1),e}};return{uploadFileInChunks,isSplitting:e,isUploadingChunks:i,isFinalizing:r,error:a}},Profile_Information=function(){var e,t,i;let{t:r}=(0,d.Z)("profile"),{user:o,updateProfile:a}=(0,x.Z)(),{createToast:l}=(0,em.Z)({toastId:"information-picture-submitting"}),[s,p]=(0,c.useState)(!1),[u,h]=(0,c.useState)(!1),[m,b]=(0,c.useState)({x:0,y:0}),[y,j]=(0,c.useState)(1),[w,_]=(0,c.useState)(null),[I,Z]=(0,c.useState)(!1),[T,R]=(0,c.useState)([]),[D,z]=(0,c.useState)([]),[O]=(0,K.a)("(max-width: 768px)"),P=["image/png","image/jpeg","image/jpg"],{backgroundColor:A,borderColor2:N}=(0,k.Z)(),{uploadFileInChunks:B,isSplitting:H,isUploadingChunks:X,isFinalizing:V}=hooks_useUploadFileInChunks(),J=(0,c.useCallback)((e,t)=>{_(t)},[]),Y=(0,c.useCallback)(async()=>{h(!0);try{var e;let t=await getCroppedImg(D[0],w),i=T[0].name,n=new File([t.blob],i,{type:"image/png",lastModified:Date.now(),lastModifiedDate:new Date}),s=null==o?void 0:null===(e=o.profile)||void 0===e?void 0:e.avatar_url,d=await B(n,"profile-picture",{slug:"profile-picture",name:i,categories:[],academy:null});if(d){let checkImageUpdate=async(e,t)=>{e<=0||setTimeout(async()=>{var i;let{data:n}=await g.Z.auth().me(),r=null==n?void 0:null===(i=n.profile)||void 0===i?void 0:i.avatar_url;s!==r?(a({...o,profile:{...o.profile,avatar_url:"".concat(r)}}),p(!1),h(!1)):checkImageUpdate(e-1,t)},t)};checkImageUpdate(20,1e3)}else throw Error("Error uploading profile picture");l({position:"top",title:r("alert-message:submitting-picture-success"),status:"success",duration:5e3})}catch(e){console.error(e),h(!1),l({position:"top",title:r("alert-message:error-submitting-picture"),status:"error",duration:5e3})}},[w]);return(0,c.useEffect)(()=>{if(T.length<1)return;let e=[];null==T||T.map(t=>e.push(URL.createObjectURL(t))),z(e)},[T]),(0,n.jsxs)(n.Fragment,{children:[(null===f.xh||void 0===f.xh?void 0:null===(e=f.xh.pathname)||void 0===e?void 0:e.includes("info"))&&(0,n.jsx)(C(),{children:(0,n.jsx)("title",{children:r("seo.title")})}),(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"700",pb:"18px",children:r("basic-profile-info")}),(0,n.jsxs)(v.xu,{display:"flex",flexDirection:{base:"column",lg:"row"},alignItems:{base:"center",lg:"start"},gridGap:"38px",width:"100%",height:"auto",borderRadius:"17px",border:"1px solid",borderColor:N,p:"30px",children:[(0,n.jsxs)(Q.q,{width:"140px",margin:"0",height:"140px",src:(null==o?void 0:null===(t=o.profile)||void 0===t?void 0:t.avatar_url)||(null==o?void 0:null===(i=o.github)||void 0===i?void 0:i.avatar_url)||"",children:[(0,n.jsxs)(ee.J,{trigger:"hover",width:"fit-content",placement:"bottom-start",children:[(0,n.jsx)(et.x,{children:(0,n.jsx)(v.xu,{position:"absolute",onClick:()=>p(!0),display:"flex",right:"-5px",bottom:"-2px",p:"6px",background:"blue.default",border:"0.2em solid",borderColor:A,borderRadius:"full",cursor:"pointer",children:(0,n.jsx)(E.Z,{icon:"pencilFull",color:"#fff",width:"15px",height:"15px"})})}),(0,n.jsxs)(ei.y,{width:"fit-content",border:"1px solid",borderColor:"blue.default",children:[(0,n.jsx)(en.Q,{className:"arrow-blue-color",border:"1px solid",background:"blue.light",borderColor:"blue.default",zIndex:9}),(0,n.jsx)(er.b,{className:"popover-bgColor",fontSize:"12px",textTransform:"none",borderRadius:"5px",background:"blue.light",color:"blue.default",children:r("update-profile-image.tooltip-label")})]})]}),(0,n.jsxs)(F.u_,{isOpen:s,size:"xl",onClose:()=>p(!1),isCentered:!!O,children:[(0,n.jsx)(W.Z,{}),(0,n.jsxs)(L.h,{children:[(0,n.jsx)(G.x,{children:r("update-profile-image.title")}),(0,n.jsx)(q.o,{}),(0,n.jsxs)(U.f,{display:"flex",flexDirection:"column",gridGap:"15px",pt:"0",pb:"1.5rem",children:[!T.length>0&&(0,n.jsxs)(v.xu,{className:"upload-wrapper ".concat(I&&"dragOver"),width:{base:"auto",md:"33rem"},height:{base:"300px",md:"26rem"},position:"relative",color:I?"blue.600":"blue.default",_hover:{color:"blue.default"},transition:"0.3s all ease-in-out",borderRadius:"12px",children:[(0,n.jsx)(v.xu,{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",border:"1px dashed currentColor",cursor:"pointer",borderWidth:"4px",borderRadius:"12px",children:(0,n.jsx)(v.xu,{className:"icon-bounce",children:(0,n.jsx)(E.Z,{icon:"uploadImage",color:"currentColor",width:"220px",height:"220px"})})}),(0,n.jsx)(eo.I,{type:"file",name:"file",title:"",onChange:e=>{e.preventDefault();let t=e.target.files[0];return t&&!P.includes(t.type)&&l({position:"top",title:r("alert-message:file-type-error",{type:t.type.split("/")[1]}),status:"warning",duration:5e3}),R([...e.target.files])},accept:"image/x-png,image/jpg,image/jpeg",placeholder:"Upload profile image",position:"absolute",width:"100%",height:"100%",cursor:"pointer",opacity:"0",padding:"0",onDragOver:()=>Z(!0),onDragLeave:()=>Z(!1)})]}),T.length>0&&(0,n.jsxs)(v.xu,{position:"relative",width:"100%",height:"100%",children:[(0,n.jsx)(v.xu,{position:"absolute",onClick:()=>{R([]),Z(!1)},zIndex:99,top:"15px",left:"15px",background:"gray.200",borderRadius:"50px",p:"10px",cursor:"pointer",children:(0,n.jsx)(E.Z,{icon:"arrowLeft2",width:"25px",height:"25px"})}),(0,n.jsx)(v.xu,{position:"absolute",onClick:()=>b({x:0,y:0}),zIndex:99,bottom:"15px",left:"15px",background:"gray.200",borderRadius:"50px",p:"10px",cursor:"pointer",children:(0,n.jsx)(E.Z,{icon:"focus",color:"#0097CD",width:"25px",height:"25px"})}),(0,n.jsx)(v.xu,{width:{base:"auto",md:"33rem"},height:{base:"300px",md:"26rem"},position:"relative",background:"white",children:(0,n.jsx)(el.ZP,{restrictPosition:!1,image:D[0],crop:m,zoom:y,onCropAreaChange:J,style:{containerStyle:{borderRadius:"12px"}},aspect:1,cropShape:"round",cropSize:{width:O?250:380,height:O?250:380},onCropChange:b,onZoomChange:j})})]}),T.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ea.iR,{"aria-label":"slider-zoom",onChange:e=>j(e),step:.01,value:y,min:.85,max:3,children:[(0,n.jsx)(ea.Uj,{children:(0,n.jsx)(ea.Ms,{})}),(0,n.jsx)(ea.gs,{style:{border:"1px solid #0097CD"}})]}),(0,n.jsx)(M.z,{isLoading:u||H||X||V,loadingText:H?r("splitting-file"):X?r("uploading-chunks"):V?r("finalizing-upload"):r("ready-upload"),spinnerPlacement:"end",variant:"default",onClick:Y,children:r("update-profile-image.submit-button")})]})]})]})]})]}),(0,n.jsx)(eg,{})]})]})},ef=i(89794),eb=i(71127),ev=i(91176),ey=i(78096),ej=i(15032);function Coupon(e){let{coupon:t,getDiscountText:i,handleAutoToggle:r}=e,{borderColor2:o,hexColor:a}=(0,k.Z)(),[l,s]=(0,c.useState)((null==t?void 0:t.auto)||!1),[p,u]=(0,c.useState)(!1),{t:x}=(0,d.Z)("profile"),handleSwitchChange=async()=>{u(!0);try{let e=await r();s(e)}catch(e){console.error("Error updating coupon auto setting:",e),s(l)}finally{u(!1)}};return(0,n.jsx)(v.xu,{width:"100%",height:"auto",borderRadius:"17px",border:"1px solid",borderColor:o,p:"20px",children:(0,n.jsx)(v.xu,{display:"flex",flexDirection:"column",gridGap:"20px",children:(0,n.jsxs)(v.xu,{display:"flex",flexDirection:{base:"column",md:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,n.jsxs)(v.xu,{display:"flex",width:"100%",alignItems:"center",pb:"8px",children:[(0,n.jsx)(v.xu,{minWidth:"48px",minHeight:"48px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"blue.default",borderRadius:"50px",marginRight:"10px",children:(0,n.jsx)(S.Z,{fontSize:"21px",color:"white",children:"$"})}),(0,n.jsxs)(v.xu,{children:[(0,n.jsx)(S.Z,{size:"sm",children:x((null==t?void 0:t.discount_type)==="FIXED_PRICE"?"discount-type-fixed-amount":"discount-type-percentage")}),(0,n.jsx)(S.Z,{fontWeight:"600",size:"md",children:i})]})]}),(0,n.jsxs)(v.xu,{width:{base:"100%",md:"fit-content"},children:[(0,n.jsx)(ej.Z,{coupon:null==t?void 0:t.slug,width:{md:"270px",lg:"425px"}}),(0,n.jsx)(v.xu,{display:"flex",mt:"12px",children:(null==t?void 0:t.is_valid)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(v.xu,{position:"relative",display:"flex",alignItems:"center",width:"fit-content",children:[(0,n.jsx)(ef.r,{padding:"1px",isChecked:l,isDisabled:p,onChange:handleSwitchChange,sx:{".chakra-switch__thumb":{width:"14px",height:"14px",margin:"1px",zIndex:"5"},".chakra-switch__thumb[data-checked]":{transform:"translateX(24px)"},".chakra-switch__thumb:not([data-checked])":{bg:"gray.default"},".chakra-switch__track":{width:"39px",padding:"1px",border:"1px solid",borderColor:"transparent"},".chakra-switch__track[data-checked]":{bg:"blue.default"},".chakra-switch__track:not([data-checked])":{bg:"none",border:"1px solid",borderColor:"gray.default"},".chakra-switch__input:focus + .chakra-switch__track":{boxShadow:"none"}}}),l?(0,n.jsx)(v.xu,{position:"absolute",ms:"3.5px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",children:(0,n.jsx)(E.Z,{icon:"circle-check",size:"15px",color:"white"})}):(0,n.jsx)(v.xu,{position:"absolute",right:"0",me:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",children:(0,n.jsx)(E.Z,{icon:"closeRounded",size:"15px",color:"#FFBEBE"})})]}),(0,n.jsx)(v.xu,{display:"flex",alignItems:"center",ms:"8px",children:l?(0,n.jsx)(S.Z,{color:"blue.default",fontSize:"15px",fontWeight:"500",children:x("coupon-auto-apply-next-renewal")}):(0,n.jsx)(S.Z,{color:"gray.500",fontSize:"15px",fontWeight:"500",children:x("coupon-click-to-auto-apply")})})]}):(0,n.jsxs)(v.xu,{display:"flex",alignItems:"center",ms:"8px",children:[(0,n.jsx)(v.xu,{cursor:"pointer",display:"flex",backgroundColor:a.greenLight,padding:"3px",borderRadius:"50px",alignItems:"center",justifyContent:"center",pointerEvents:"none",children:(0,n.jsx)(E.Z,{icon:"checked2",size:"8px",color:"white"})}),(0,n.jsx)(S.Z,{color:a.greenLight,fontSize:"15px",fontWeight:"500",ms:"8px",children:x("coupon-already-used")})]})})]})]})})})}Coupon.propTypes={coupon:w().shape({slug:w().string,auto:w().bool,is_valid:w().bool,discount_type:w().string,discount_value:w().number}),getDiscountText:w().string.isRequired,handleAutoToggle:w().func.isRequired},Coupon.defaultProps={coupon:null};var Profile_ReferralProgram=function(){let{t:e}=(0,d.Z)("profile"),{hexColor:t,borderColor2:i}=(0,k.Z)(),[r,o]=(0,c.useState)(null),[a,l]=(0,c.useState)(null),[s,p]=(0,c.useState)(!0),{isOpen:u,onOpen:x,onClose:h}=(0,eb.q)(),{createToast:m}=(0,em.Z)();(0,c.useEffect)(()=>{let fetchCoupon=async()=>{try{var e,t,i;let[n,r]=await Promise.all([g.Z.payment().getMyCoupon(),g.Z.payment().getMyUserCoupons()]),a=null==n?void 0:null===(e=n.data)||void 0===e?void 0:e[0],s=r.data;(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.length)>0&&o(a),(null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.length)>0&&l(s)}catch(e){console.error("Error fetching referral coupon:",e)}finally{p(!1)}};fetchCoupon()},[]);let handleAutoToggle=async e=>{try{let t=await g.Z.payment().updateCoupon(e);if(t.status<400){let e=await t.data;return e.auto}throw Error("Error updating coupon")}catch(e){throw console.error("Error updating coupon:",e),m({position:"top",title:"Error updating coupon",status:"error",duration:3e3,isClosable:!0}),e}};if(s)return(0,n.jsxs)(v.xu,{width:"100%",height:"auto",borderRadius:"17px",border:"1px solid",borderColor:i,p:"30px",children:[(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"700",pb:"18px",children:e("referral-program")}),(0,n.jsx)(S.Z,{fontSize:"14px",color:"gray.500",children:e("coupon-loading")})]});let getDiscountText=t=>{if(!(null==t?void 0:t.discount_value)||!(null==t?void 0:t.discount_type))return"";if("PERCENT_OFF"===t.discount_type){let i=Math.round(100*t.discount_value);return"".concat(i).concat(e("coupon-percent-of-payment"))}if("FIXED_PRICE"===t.discount_type){let i=Math.round(t.discount_value);return"US$".concat(i," ").concat(e("coupon-of-any-payment"))}return""};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(O.k,{justify:"space-between",alignItems:"center",flexDirection:{base:"column",sm:"row"},gap:"20px",children:[(0,n.jsxs)(v.xu,{width:"224px",border:"1px solid",borderColor:i,borderRadius:"8px",padding:{base:"7px",md:"12px"},children:[(0,n.jsx)(S.Z,{fontSize:"17px",color:t.blue2,children:e("referral-money-earned")}),(0,n.jsxs)(O.k,{ms:"8px",alignItems:"center",children:[(0,n.jsx)(S.Z,{fontSize:"28px",height:"x",fontWeight:"700",color:t.blueDefault,children:"$"}),(0,n.jsx)(S.Z,{fontSize:"24px",color:t.blue2,fontWeight:"700",ms:"8px",children:(()=>{if(!a||0===a.length)return 0;let e=0;return a.forEach(t=>{let i=!1===t.is_valid;if(i){if("FIXED_PRICE"===t.discount_type){let i=t.discount_value||0;e+=i}else if("FIXED"===t.discount_type){let i=t.discount_value||0;e+=i}}}),Math.round(e)})()})]})]}),(0,n.jsx)(O.k,{justify:"c",children:(0,n.jsxs)(v.xu,{children:[(0,n.jsxs)(M.z,{bg:"blue.default",color:"white",fontSize:"15px",paddingX:"8px",paddingY:"24px","aria-label":"Referir a un amigo y ganar dinero",onClick:x,_active:{backgroundColor:"blue.default"},_hover:{backgroundColor:"blue.default"},children:[(0,n.jsx)(E.Z,{icon:"share",size:"32px",me:"8px"}),e("referral-refer-friend-button")]}),(0,n.jsx)(S.Z,{maxWidth:"270px",wordWrap:"break-word",lineHeight:"1.4",fontSize:"12px",children:e("referral-share-description")})]})})]}),(0,n.jsx)(ev.X,{as:"h1",fontWeight:"500",mt:"10px",children:e("referral-rewards-activity")}),(0,n.jsx)(v.xu,{display:"flex",flexDirection:"column",gridGap:"20px",children:(null==a?void 0:a.length)>0?null==a?void 0:a.map(e=>(0,n.jsx)(Coupon,{coupon:e,getDiscountText:getDiscountText(e),handleAutoToggle:()=>handleAutoToggle(e.slug)},e.id)):(0,n.jsx)(S.Z,{fontSize:"15px",fontWeight:"400",pb:"6px",children:e("no-reward-coupons")})}),(0,n.jsx)(ey.Z,{couponData:r,isOpen:u,onClose:h,onOpen:x})]})},ew=(0,m.Z)((0,c.memo)(function(){let{t:e}=(0,d.Z)("profile"),{user:t,cohorts:i}=(0,x.Z)(),{isWhiteLabelFeatureEnabled:m}=(0,h.Z)(),v=(0,p.useRouter)(),{asPath:y}=v,[j,w]=(0,c.useState)(0),[_,C]=(0,c.useState)([]),S=e("tabList",{},{returnObjects:!0}),{createToast:k,closeToast:I}=(0,em.Z)({toastId:"user-available-github"}),Z=m("allow_referral_program"),T=S.filter(e=>("referral-program"!==e.value||!!Z)&&!0!==e.disabled),R={"/profile/info":0,"/profile/info#":0,"/profile/certificates":1,"/profile/certificates#":1,"/profile/subscriptions":2,"/profile/subscriptions#":2,"/profile/referral-program":Z?3:-1,"/profile/referral-program#":Z?3:-1},D=(0,f.A8)(y);return(0,c.useEffect)(()=>{w(R[D])},[D]),(0,c.useEffect)(()=>{g.Z.certificate().get().then(e=>{let{data:t}=e;C(t)})},[]),(0,c.useEffect)(()=>{let r=null==i?void 0:i.some(e=>{var t;return(null==e?void 0:null===(t=e.cohort_user)||void 0===t?void 0:t.educational_status)==="ACTIVE"&&(null==e?void 0:e.available_as_saas)===!1});I(),t&&!t.github&&k({position:"top",title:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:e(r?"common:github-warning":"common:github-not-connected")}}),status:"info",duration:5e3})},[i]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(b.Z,{withContainer:!0,gridColumn:"1 / span 10",maxWidth:"1280px",minH:"480px",childrenStyle:{display:"block"},padding:"0 24px",children:[(0,n.jsx)(u.Z,{as:"h1",size:"m",margin:"45px 0",children:e("navbar:my-profile")}),(0,n.jsxs)(r.m,{index:j,display:"flex",flexDirection:{base:"column",md:"row"},variant:"unstyled",gridGap:"40px",children:[(0,n.jsx)(o.t,{display:"flex",flexDirection:"column",width:{base:"100%",md:"300px"},children:T.map(e=>(0,n.jsx)(a.O,{p:"14px",display:"block",onClick:()=>v.push("/profile/".concat(e.value),void 0,{shallow:!0}),textAlign:{base:"center",md:"start"},isDisabled:e.disabled,textTransform:"uppercase",fontWeight:"900",fontSize:"13px",letterSpacing:"0.05em",width:{base:"100%",md:"auto"},_selected:{color:"blue.default",borderLeft:{base:"none",md:"4px solid"},borderBottom:{base:"4px solid",md:"none"},borderColor:"blue.default"},_hover:{color:"blue.default"},_disabled:{opacity:.5,cursor:"not-allowed"},children:e.title},e.title))}),(0,n.jsxs)(l.n,{p:"0",children:[(0,n.jsx)(s.x,{p:"0",children:(0,n.jsx)(Profile_Information,{})}),(0,n.jsx)(s.x,{p:"0",display:"flex",flexDirection:"column",gridGap:"18px",children:(0,n.jsx)(Certificates,{certificates:_})}),(0,n.jsx)(s.x,{p:"0",display:"flex",flexDirection:"column",gridGap:"18px",children:(0,n.jsx)(Subscriptions,{cohorts:i})}),Z&&(0,n.jsx)(s.x,{p:"0",display:"flex",flexDirection:"column",gridGap:"18px",children:(0,n.jsx)(Profile_ReferralProgram,{})})]})]})]})})}))}},function(e){e.O(0,[14006,32979,9449,7033,82859,93114,29432,3232,16661,66083,45620,49774,92888,40179],function(){return e(e.s=14963)}),_N_E=e.O()}]);