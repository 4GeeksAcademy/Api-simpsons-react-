"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59541],{84237:function(e,n,t){var i=t(50265),r=t(26363),o=t(49e3),a=t(15412),s=t(38256),l=t.n(s),c=t(93502),d=t(18621),u=t(9269),p=t(22407),x=t(58653);function SubsriptionButton(e){var n,t,s,l,h;let{subscription:g,setSubscriptionProps:f,onOpenCancelSubscription:b,children:m,allSubscriptions:j,...y}=e,{t:v}=(0,a.Z)("profile"),{createToast:w}=(0,u.Z)({toastId:"subscription-button"}),S=null==g?void 0:g.status,[C,k]=(0,r.useState)(!1),Z=(0,c.useRouter)(),_=null==g?void 0:null===(t=g.plans)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.slug,E=(null==g?void 0:g.type)==="plan_financing"&&(null==g?void 0:g.valid_until)<new Date().toISOString(),T=null==j?void 0:j.some(e=>e.plans.some(e=>{var n;return e.slug===(null==g?void 0:null===(n=g.planOffer)||void 0===n?void 0:n.slug)})),R="FREE_TRIAL"===S,D="ACTIVE"===S,O=(null==g?void 0:null===(s=g.status)||void 0===s?void 0:s.toLowerCase())==="fully_paid",A="ERROR"===S,L="CANCELLED"===S,F="EXPIRED"===S,I="PAYMENT_ISSUE"===S,{getPlanOffer:P,reactivateSubscription:z}=(0,d.Z)(),handlePlanOffer=async()=>{try{k(!0);let e=await P(_);Z.push("/checkout?plan=".concat(e.suggested_plan.slug))}catch(e){w({position:"top",title:v("alert-message:error-getting-offer"),status:"error",duration:5e3,isClosable:!0})}finally{k(!1)}},handleReactivatePlan=async()=>{k(!0);try{await z(g)}catch(e){console.error("Error reactivating subscription:",e)}finally{k(!1)}},W=T&&(R||O)||T&&D?{text:"",style:{display:"none"}}:R||(null==g?void 0:g.type)!=="plan_financing"&&(D||O)&&(null==g?void 0:null===(l=g.planOffer)||void 0===l?void 0:l.slug)?{text:v("subscription.upgrade"),style:{variant:"outline",color:"blue.default",borderColor:"currentColor",fontWeight:700}}:(null==g?void 0:g.type)!=="plan_financing"&&(D||O)?{text:v("subscription.cancel"),style:{variant:"link"}}:L?{text:v("subscription.reactivate-subscription"),style:{variant:"default",color:"white",fontWeight:500}}:(I||A||F)&&!(null==g?void 0:null===(h=g.planOffer)||void 0===h?void 0:h.slug)?{text:v("subscription.contact-support"),isComponent:!0,component:(0,i.jsxs)(i.Fragment,{children:[I&&(0,i.jsx)(o.z,{onClick:()=>{f(g),L?handleReactivatePlan():b()},marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none",children:L?v("subscription.reactivate-subscription"):v("subscription.cancel")}),(0,i.jsx)(o.z,{onClick:()=>{if("/profile/[slug]"===Z.pathname){(0,p._1)({dataLayer:{event:"chat_with_support",plan:_,agent:(0,x.S7)()}});return}Z.push("/profile/subscriptions")},marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none",children:"/profile/[slug]"===Z.pathname?v("subscription.contact-support"):v("subscription.manage-subscription")})]})}:{text:"",style:{display:"none"}};return(0,i.jsxs)(i.Fragment,{children:[!O&&W.isComponent&&(0,i.jsx)(i.Fragment,{children:null==W?void 0:W.component}),!O&&!W.isComponent&&(0,i.jsx)(o.z,{isLoading:C,onClick:()=>{var e,n;f(g),E&&handlePlanOffer(),(["FREE_TRIAL","PAYMENT_ISSUE"].includes(S)||["ACTIVE","FULLY_PAID"].includes(S)&&(null==g?void 0:null===(e=g.planOffer)||void 0===e?void 0:e.slug))&&handlePlanOffer(),!["ACTIVE","FULLY_PAID"].includes(S)||(null==g?void 0:g.type)==="plan_financing"||(null==g?void 0:null===(n=g.planOffer)||void 0===n?void 0:n.slug)||b(),["CANCELLED"].includes(S)&&handleReactivatePlan()},color:"blue.default",margin:"auto 0 0 0",...W.style,...y,children:m||W.text})]})}SubsriptionButton.propTypes={subscription:l().objectOf(l().oneOfType([l().any])),setSubscriptionProps:l().func,onOpenCancelSubscription:l().func,restStyles:l().objectOf(l().oneOfType([l().any])),children:l().node,allSubscriptions:l().arrayOf(l().objectOf([l().any]))},SubsriptionButton.defaultProps={subscription:{},setSubscriptionProps:()=>{},onOpenCancelSubscription:()=>{},restStyles:{},children:null,allSubscriptions:[]},n.Z=SubsriptionButton},59541:function(e,n,t){var i=t(50265),r=t(38256),o=t.n(r),a=t(59979),s=t(75434),l=t(30793),c=t(59086),d=t(49e3),u=t(38371),p=t(15412),x=t(36278),h=t(55850),g=t(7217),f=t(59284),b=t(48983),m=t(26363),j=t(64966),y=t(24143),v=t(5594),w=t(58653),S=t(87488),C=t(47441),k=t(84237);function FreeTagCapsule(e){let{isExpired:n,freeTrialExpireDateValue:t,now:r,lang:o}=e,{t:s}=(0,p.Z)("program-card"),l="",c=(0,h.Z)({end:r,start:t}),d=null==c?void 0:c.hours,u={en:(0,x.Z)(c,{format:["days"]}),es:(0,x.Z)(c,{format:["days"],locale:b.Z})};return l=n?s("non-left"):c.days>0?"".concat(u[o]," ").concat(s("left")):0===c.days&&d>=0?"".concat(d>0?"".concat(d,"h ").concat(s("common:and")):""," ").concat(null==c?void 0:c.minutes,"min"):s("today"),(0,i.jsxs)(a.k,{borderRadius:"15px",background:n?"#FFE7E9":j.Z.colors.yellow.light,padding:"5px",height:"21px",alignItems:"center",children:[(0,i.jsx)(v.Z,{icon:"free",width:"29px",height:"14px",style:{marginRight:"5px"}}),(0,i.jsx)(y.Z,{fontSize:"xs",lineHeight:"14px",fontWeight:"400",color:n?"#EB5757":"#01455E",children:l})]})}function ProgramCard(e){let{programName:n,programDescription:t,haveFreeTrial:r,startsIn:o,endsAt:Z,signInDate:_,icon:E,iconBackground:T,syllabusContent:R,freeTrialExpireDate:D,courseProgress:O,lessonNumber:A,isLoading:L,width:F,assistants:I,teacher:P,handleChoose:z,isHiddenOnPrework:W,isAvailableAsSaas:H,subscriptionStatus:N,subscription:B,isMarketingCourse:M,iconLink:q,bullets:U,background:Y,bulletsBackground:V,isFinantialStatusLate:G,isLoadingPageContent:X}=e,{t:J,lang:K}=(0,p.Z)("program-card"),Q=(0,s.ff)("black","white"),[$,ee]=(0,m.useState)(!1),en=new Date((0,w.qb)(D)?D:(0,g.Z)(new Date,1)),et=new Date,{lightColor:ei,hexColor:er}=(0,S.Z)(),eo=H&&"FREE_TRIAL"===N,ea=H&&("CANCELLED"===N||"PAYMENT_ISSUE"===N),es=eo&&en<et,el="ACTIVE"===N||"FULLY_PAID"===N,ec="ERROR"===N,ed="EXPIRED"===N,eu=ea&&B&&(B.valid_until&&new Date(B.valid_until)>et||B.next_payment_at&&new Date(B.next_payment_at)>et),ep="started"==(new Date(o)<et?"started":"idle"),ex=!Z&&(0,w.qb)(_)?new Date(_):(0,w.qb)(o)?new Date(o):null,formatTimeString=e=>{let n=(0,h.Z)({end:et,start:e});n.days>0&&(n.hours=0);let t={en:(0,x.Z)(n,{format:["months","weeks","days","hours"],delimiter:", "}),es:(0,x.Z)(n,{format:["months","weeks","days","hours"],delimiter:", ",locale:b.Z})};return""===t[K]?J("starting-today"):t[K]},eh={active:J("status.active"),fully_paid:J("status.fully_paid"),expired:J("status.expired"),cancelled:eu?J("status.is_cancelled_but_valid",{date:(0,f.default)(new Date(B.next_payment_at),"dd MMM yyyy")}):J("status.cancelled"),payment_issue:J("status.payment_issue"),error:J("status.error")};return(0,i.jsxs)(l.xu,{border:"1px solid",borderColor:"#DADADA",borderRadius:"9px",width:F,padding:"15px",position:"relative",height:"min-content",background:Y,children:[q?(0,i.jsx)(l.xu,{position:"absolute",borderRadius:"full",top:"-30px",padding:"10px",children:(0,i.jsx)(c.E,{src:q,width:"44px",height:"44px",borderRadius:"50%"})}):(0,i.jsx)(l.xu,{position:"absolute",top:"-30px",padding:"10px",children:(0,i.jsx)(l.xu,{borderRadius:"full",background:T,padding:"10px",children:(0,i.jsx)(v.Z,{width:"24px",height:"24px",icon:E})})}),!W&&!M&&(0,i.jsx)(a.k,{height:"30px",id:"upper-left-section",flexDirection:"row-reverse",children:L?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(i.Fragment,{children:H&&el&&"FREE_TRIAL"!==N?(0,i.jsx)(i.Fragment,{children:0===O?(0,i.jsxs)(a.k,{width:"116px",justifyContent:"flex-end",children:[(0,i.jsx)(l.xu,{marginRight:"10px",children:(0,i.jsx)(v.Z,{width:"14px",height:"21px",icon:"rocket",color:ep?er.blueDefault:""})}),(0,i.jsxs)(l.xu,{children:[(0,i.jsx)(y.Z,{fontSize:"9px",lineHeight:"9.8px",fontWeight:"600",color:Q,children:ep?"".concat(J("started-in")):"".concat(J("starts-in"))}),(0,i.jsx)(y.Z,{fontSize:"9px",lineHeight:"9.8px",fontWeight:"400",color:Q,children:formatTimeString(ex)})]})]}):(0,i.jsx)(v.Z,{icon:"crown",width:"22px",height:"15px"})}):(0,i.jsx)(i.Fragment,{children:H&&eo?(0,i.jsx)(i.Fragment,{children:ep?(0,i.jsx)(FreeTagCapsule,{isExpired:es,freeTrialExpireDateValue:en,now:et,lang:K}):(0,i.jsxs)(a.k,{width:"116px",justifyContent:"flex-end",children:[(0,i.jsx)(l.xu,{marginRight:"10px",children:(0,i.jsx)(v.Z,{width:"14px",height:"21px",icon:"rocket",color:ep?er.blueDefault:""})}),(0,i.jsxs)(l.xu,{children:[(0,i.jsx)(y.Z,{fontSize:"9px",lineHeight:"9.8px",fontWeight:"600",color:Q,children:ep?"".concat(J("started-in")):"".concat(J("starts-in"))}),(0,i.jsx)(y.Z,{fontSize:"9px",lineHeight:"9.8px",fontWeight:"400",color:Q,children:formatTimeString(ex)})]})]})}):(0,i.jsx)(i.Fragment,{children:ea&&!1!==H||ec||ed?(0,i.jsx)(l.xu,{fontSize:"12px",display:"flex",alignItems:"center",background:"red.light",color:"danger",height:"22px",borderRadius:"20px",padding:"0 10px",children:eh[N.toLowerCase()]}):(0,i.jsx)(v.Z,{icon:"crown",width:"22px",height:"15px"})})})})}),(0,i.jsxs)(y.Z,{fontSize:"md",lineHeight:"19px",fontWeight:"700",color:Q,marginBottom:"10px",marginTop:(W||M)&&"30px",children:[n," "]}),W||M?(0,i.jsx)(i.Fragment,{children:M?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.xu,{width:"100%",display:"flex",justifyContent:"center",children:(0,i.jsx)(y.Z,{size:"sm",fontWeight:500,mb:"10px",children:t})}),(null==U?void 0:U.length)>0&&(0,i.jsxs)(a.k,{flexDirection:"column",gridGap:"8px",background:V,padding:"10px 12px",borderRadius:"4px",children:[U.slice(0,$?U.length:4).map(e=>(0,i.jsxs)(l.xu,{display:"flex",fontWeight:700,fontSize:"14px",gridGap:"10px",alignItems:"center",children:[(0,i.jsx)(v.Z,{icon:"checked2",color:er.green,width:"14px",height:"14px"}),e.name]},e.name)),U.length>4&&(0,i.jsx)(d.z,{variant:"link",onClick:()=>ee(!$),color:er.blueDefault,fontSize:"14px",fontWeight:700,padding:"4px 0",_hover:{textDecoration:"none"},display:"flex",alignItems:"center",children:$?J("see-less"):J("see-more")})]}),(0,i.jsx)(d.z,{borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:"default",mt:"20px",onClick:z,isLoading:X,children:J("learn-more")})]}):(0,i.jsx)(l.xu,{width:"100%",display:"flex",justifyContent:"center",children:(0,i.jsx)(y.Z,{size:"12px",color:ei,children:J("prework-message")})})}):(0,i.jsx)(i.Fragment,{children:L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(y.Z,{fontSize:"xs",lineHeight:"14px",fontWeight:"500",color:Q,children:[t," "]}),(0,i.jsx)(d.z,{variant:"outline",marginTop:"20px",color:"blue.default",borderColor:"currentcolor",w:"full",fontSize:"12px",letterSpacing:"0.05em",children:"Loading..."})]}):(0,i.jsx)(i.Fragment,{children:!ep&&0===O&&el||!ep&&0===O&&eo?(0,i.jsxs)(l.xu,{children:[(0,i.jsxs)(y.Z,{fontSize:"xs",lineHeight:"14px",fontWeight:"500",color:Q,children:[t," "]}),(0,i.jsx)(C.Z,{startsIn:o,syllabusContent:R,courseProgress:O,assistants:I,teacher:P,isAvailableAsSaas:H,subscriptionStatus:N}),eo&&es?(0,i.jsxs)(k.Z,{subscription:B,onOpenCancelSubscription:()=>{},marginTop:!ea&&"20px",borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:"default",alignItems:"center",background:"yellow.default",color:"white",children:[(0,i.jsx)(v.Z,{style:{marginRight:"10px"},width:"12px",height:"18px",icon:"rocket",color:"currentColor"}),J("upgrade")]}):(0,i.jsx)(d.z,{marginTop:"20px",borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:G?"danger":"default",onClick:z,isLoading:X,children:J("start-course")}),r&&(0,i.jsx)(d.z,{marginTop:"15px",borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:"outline",borderColor:"blue.default",color:"blue.default",children:J("free-trial")})]}):(0,i.jsxs)(l.xu,{marginTop:O>0,children:[O<=0&&(0,i.jsxs)(y.Z,{fontSize:"xs",lineHeight:"14px",fontWeight:"500",color:Q,children:[t," "]}),(0,i.jsx)(l.xu,{margin:"auto",width:"90%",children:O>0&&(0,i.jsxs)(l.xu,{margin:"20px 0 0 0",children:[(0,i.jsx)(u.E,{value:O,colorScheme:"blueDefaultScheme",height:"10px",borderRadius:"20px"}),(0,i.jsx)(y.Z,{fontSize:"8px",lineHeight:"9.8px",fontWeight:"500",marginTop:"5px",color:j.Z.colors.blue.default,children:"".concat(O,"%")})]})}),(0,i.jsx)(C.Z,{startsIn:o,syllabusContent:R,courseProgress:O,assistants:I,teacher:P,isAvailableAsSaas:H,subscriptionStatus:N}),(0,i.jsx)(y.Z,{marginTop:"20px",color:j.Z.colors.blue.default,textAlign:"center",fontSize:"xs",lineHeight:"14px",fontWeight:"700",children:!es&&(0,i.jsx)(i.Fragment,{children:O>0&&(el||eu)?(0,i.jsxs)(d.z,{variant:G?"danger":"link",onClick:z,width:"100%",isLoading:X,gridGap:"6px",fontWeight:700,children:[G&&J("action-required"),!G&&((0,w.hj)(String(A))?"".concat(J("continue")," ").concat(A," →"):"".concat(J("continue-course")," →"))]}):(0,i.jsx)(i.Fragment,{children:(!H||!ea||eu)&&!ec&&!ed&&(0,i.jsx)(d.z,{borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:G?"danger":"default",mb:H&&!el&&"10px",onClick:z,isLoading:X,children:G?J("action-required"):J("start-course")})})})}),(H&&eo||H&&!el)&&(0,i.jsxs)(k.Z,{subscription:B,onOpenCancelSubscription:()=>{},marginTop:!ea&&!es&&O>0&&"5px",borderRadius:"3px",width:"100%",padding:"0",whiteSpace:"normal",variant:"default",alignItems:"center",background:"yellow.default",color:"white",children:[(0,i.jsx)(v.Z,{style:{marginRight:"10px"},width:"12px",height:"18px",icon:"rocket",color:"currentColor"}),eu?J("profile:subscription.reactivate-subscription"):J("upgrade")]})]})})})]})}ProgramCard.propTypes={programName:o().string.isRequired,programDescription:o().string,startsIn:o().oneOfType([o().instanceOf(Date),o().string]),endsAt:o().oneOfType([o().instanceOf(Date),o().string]),signInDate:o().instanceOf(Date),freeTrialExpireDate:o().instanceOf(Date),haveFreeTrial:o().bool,icon:o().string.isRequired,syllabusContent:o().objectOf(o().oneOfType([o().any])),courseProgress:o().number,lessonNumber:o().number,isLoading:o().bool,width:o().string,assistants:o().arrayOf(o().oneOfType([o().any])),teacher:o().objectOf(o().oneOfType([o().any])),iconBackground:o().string,handleChoose:o().func,isHiddenOnPrework:o().bool,isMarketingCourse:o().bool,iconLink:o().string,isAvailableAsSaas:o().bool,subscriptionStatus:o().string,subscription:o().objectOf(o().oneOfType([o().any])),bullets:o().arrayOf(o().oneOfType([o().any])),background:o().string,bulletsBackground:o().string,isLoadingPageContent:o().bool,isFinantialStatusLate:o().bool},ProgramCard.defaultProps={programDescription:null,startsIn:null,endsAt:null,signInDate:null,haveFreeTrial:!1,syllabusContent:null,courseProgress:null,freeTrialExpireDate:null,lessonNumber:null,isLoading:!1,width:"292px",assistants:[],teacher:null,iconBackground:"",handleChoose:()=>{},isHiddenOnPrework:!1,isMarketingCourse:!1,iconLink:"",isAvailableAsSaas:!1,subscriptionStatus:"",subscription:{},bullets:[],background:"",bulletsBackground:"",isLoadingPageContent:!1,isFinantialStatusLate:!1},n.Z=(0,m.memo)(ProgramCard)}}]);